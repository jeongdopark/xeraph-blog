---
title: "λ λ”λ§ μµμ ν™” [ Feat. CSS ]"
description: "CSSλ¥Ό ν†µν• λΈλΌμ°μ € λ λ”λ§ μµμ ν™”"
date: "2024-01-22"
---

> λΈλΌμ°μ € λ λ”λ§ κ³Όμ •κ³Ό CSSλ¥Ό ν†µν• μµμ ν™”ν•λ” λ°©λ²•μ— λ€ν• κΈ°λ΅μ…λ‹λ‹¤.

## π’΅ Overview

<CustomImage
  src="https://github.com/jeongdopark/xeraph-blog/assets/72500346/8307eff1-8bcc-490d-9350-98af9b4df60f"
  width={400}
  height={400}
/>

λΈλΌμ°μ € λ λ”λ§μ€ μ„μ™€ κ°™μ€ κ³Όμ •μΌλ΅ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤.

DOM μ”μ†μ μ¤νƒ€μΌ μ†μ„±μ΄ λ³€κ²½λ  κ²½μ° μ„ κ³Όμ •μ΄ λ‹¤μ‹ λ°μƒν•κ² λ©λ‹λ‹¤.

ν•μ§€λ§, μ¤νƒ€μΌ μ†μ„±λ§λ‹¤ λ°μƒμ‹ν‚¤λ” κ³Όμ •μ μ°¨μ΄κ°€ μ΅΄μ¬ν•©λ‹λ‹¤.

κ³Όμ •μ€ ν¬κ² <Highlight text="Reflow"/>μ™€ <Highlight text="Repaint"/> κ·Έλ¦¬κ³  <Highlight text="Composition-Only"/> μ„Έ κ°€μ§€λ΅ λ¶„λ¥ν•  μ μμµλ‹λ‹¤.

μ—°μ‚° λΉ„μ©μ€ μΌλ°μ μΌλ΅ <Link link="https://www.explainthis.io/en/swe/repaint-and-reflow" replace="Reflow"/> > Repaint > <Link link="https://web.dev/articles/stick-to-compositor-only-properties-and-manage-layer-count?hl=en" replace="Composition-Only"/> μμ…λ‹λ‹¤.

<br />
<br />
---

## π’΅ Reflow [ λ¦¬ν”λ΅μ° ]

<CustomImage
  src="https://github.com/jeongdopark/xeraph-blog/assets/72500346/f125c621-a8bd-45f8-a640-426fa003f97d"
  width={400}
  height={400}
/>

λ¦¬ν”λ΅μ°λ” μµμ΄ λ λ”λ§ κ³Όμ • λ°μƒ μ΄ν›„, μ”μ†μ μ„μΉλ‚ ν¬κΈ°κ°€ λ³€κ²½λ  λ• λ°μƒν•λ” μ—°μ‚°μ…λ‹λ‹¤.

( <Highlight text="μλ„μ° λ¦¬μ‚¬μ΄μ§•"/> <Highlight text="element μ„μΉ λ° ν¬κΈ° λ³€κ²½"/> <Highlight text=" ν°νΈμ λ³€ν™”"/> λ“± )

μ—°μ‚° λΉ„μ©μ΄ ν° μ‘μ—…μ΄λ―€λ΅ Repaint λλ” Composition-Onlyλ΅ κ°μ„ ν•  μ μλ”μ§€ κ³ λ ¤κ°€ ν•„μ”ν•©λ‹λ‹¤.

<br />
<br />
---

## π’΅ Repaint [ λ¦¬νμΈνΈ ]

<CustomImage
  src="https://github.com/jeongdopark/xeraph-blog/assets/72500346/59694db6-669c-4df2-8354-3500e2d40d56"
  width={400}
  height={400}
/>

λ¦¬νμΈνΈλ” μµμ΄ λ λ”λ§ κ³Όμ • λ°μƒ μ΄ν›„, μ”μ†μ μ™Έν•μ΄ λ³€κ²½λμ§€λ§ λ μ΄μ•„μ›ƒμ— μν–¥μ„ μ£Όμ§€ μ•λ” μ¤νƒ€μΌ λ³€κ²½μ΄ μƒκΈΈ λ• λ°μƒν•λ” μ—°μ‚°μ…λ‹λ‹¤.

( <Highlight text="μƒ‰μƒ"/> <Highlight text="ν…λ‘λ¦¬ μƒ‰μƒ"/> <Highlight text="ν…λ‘λ¦¬ κ·Έλ¦Όμ"/> λ“± μ‹κ°μ μΈ μ”μ† )

λ¦¬νμΈνΈ κ³Όμ •μ€ λ μ΄μ•„μ›ƒ κ³Όμ •μ„ μƒλµν•©λ‹λ‹¤.

<br />
<br />
---

## π’΅ Composition-Only [ ν•©μ„± ]

<CustomImage
  src="https://github.com/jeongdopark/xeraph-blog/assets/72500346/6bb44aab-96c8-4395-b4f9-09bc039f3f85"
  width={400}
  height={400}
/>

ν•©μ„± κ³Όμ •μ€ λ μ΄μ•„μ›ƒ, νμΈνΈ κ³Όμ •μ„ μƒλµν•©λ‹λ‹¤.

λ€ν‘μ μΈ μ¤νƒ€μΌ μ†μ„±μΌλ΅λ” <Highlight text="transform"/> <Highlight text="opacity"/> <Highlight text="will-change "/> μμµλ‹λ‹¤.

λ μ΄μ•„μ›ƒ, νμΈνΈ κ³Όμ •μ„ μƒλµν•κΈ° λ•λ¬Έμ— μ—°μ‚° λΉ„μ©μ΄ κ°€μ¥ μ μµλ‹λ‹¤.

<br />
<br />
---

## π’΅ rightμ™€ transform λΉ„κµ

<CustomImage
  src="https://github.com/jeongdopark/xeraph-blog/assets/72500346/c7508630-099d-4276-abe0-7c9c17e4a499"
  width={400}
  height={400}
/>

μ‚¬μ΄λ“λ°” μ• λ‹λ©”μ΄μ…μ— <Highlight text="right "/> μ†μ„±κ³Ό <Highlight text="transform"/> μ†μ„±μ„ ν• λ²μ”© μ μ©ν•μ—¬ λ‘ μ†μ„±μ„ λΉ„κµν•΄ λ³΄κ² μµλ‹λ‹¤.

( ν„μ¬ μ €μ λΈ”λ΅κ·Έλ” <Highlight text="768px"/>λ¥Ό κΈ°μ¤€μΌλ΅ ν—¤λ”μ— μ‚¬μ΄λ“λ°” μ΅°κ±΄λ¶€ λ λ”λ§ λ©λ‹λ‹¤. )

rightμ™€ transform μ†μ„±μ„ λΉ„κµν•λ” μ΄μ λ” λ‘ μ†μ„± λ¨λ‘ μ‚¬μ΄λ“λ°”μ μ• λ‹λ©”μ΄μ… λ™μ‘μ„ κµ¬ν„ν•  μ μκΈ° λ•λ¬Έμ…λ‹λ‹¤.

μ™Έκ΄€μƒ κ°™μ€ λ™μ‘μ΄μ§€λ§ λ‚΄λ¶€μ μΌλ΅ λ λ”λ§ κ³Όμ •μ—μ„ μ–΄λ–¤ μ°¨μ΄κ°€ μλ”μ§€ ν™•μΈν•  μ μμµλ‹λ‹¤.

<br />

**5μ΄κ°„ μ‚¬μ΄λ“λ°”μ μ• λ‹λ©”μ΄μ…μ„ μ§€μ†μ μΌλ΅ λ™μ‘μ‹ν‚¤κ³  λ λ”λ§ κ³Όμ •μ„ λΉ„κµν–μµλ‹λ‹¤.**

<br />

### 1οΈβƒ£ right μ†μ„± [ Reflow λ°μƒ ]

<CodeHeader text="right code"/>
```js
    <div
      className={`fixed justify-center top-0 flex  flex-col w-[280px] h-full duration-DEFAULT transition-all ${
        isActive ? "right-[0px]" : "-right-[280px]"
      }  z-50 dark:bg-dark`}
    >
```
<br/>

> Performance νƒ­μ—μ„ μ„±λ¥ κΈ°λ΅μ„ 5μ΄κ°„ μ§„ν–‰ν–μµλ‹λ‹¤. <br/>
> κ°€μ¥ λΉλ„κ°€ λ†’μ€ μ‘μ—…μ„ Call Tree νƒ­μ„ ν†µν•΄ ν™•μΈν–μµλ‹λ‹¤.

<br />

<CustomImage
  src="https://github.com/jeongdopark/xeraph-blog/assets/72500346/f6e179b8-054a-4b2a-8c86-2ca6a63d1dfe"
  width={400}
  height={400}
/>

right μ†μ„±μ€ <Highlight text="λ¦¬ν”λ΅μ°"/> κ³Όμ •μ„ λ°μƒμ‹ν‚µλ‹λ‹¤.

Style - Layout - Pre Paint - Paint - Layerize - Commit λ©”μΈ μ¤λ λ“μ—μ„μ λ¨λ“  κ³Όμ •μ„ μ—°μ‚°ν•λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

<br />

### 2οΈβƒ£ transform μ†μ„± [ Composition-Only λ°μƒ ]

<CodeHeader text="transform code" />
```js
    <div
      className={`will-change-transform  fixed justify-center -right-[280px]  top-0 flex  flex-col w-[280px] h-full duration-DEFAULT transition-transform ${
        isActive ? "-translate-x-[280px]" : "translate-x-0"
      }  z-50 dark:bg-dark md:hidden`}
    >
```
<CustomImage
  src="https://github.com/jeongdopark/xeraph-blog/assets/72500346/71d24d81-b20d-4b4e-83dd-988f39adcfab"
  width={400}
  height={400}
/>

<br />

transition transform μ†μ„±μ€ λ€ν‘μ μΌλ΅ <Highlight text="grpahic layer" /> λ΅ μΉκ²©μ‹μΌμ£Όλ” μ†μ„±μ…λ‹λ‹¤.

Call Tree κ²°κ³Όμ—μ„ ν™•μΈν•  μ μλ“― <Highlight text="λ μ΄μ•„μ›ƒκ³Ό νμΈνΈ κ³Όμ •μ΄ μƒλµ"/>λμ–΄ λ©”μΈ μ¤λ λ“μ—μ„μ μ—°μ‚°μ΄ λΉ λ¦…λ‹λ‹¤.

### 3οΈβƒ£ right, transform λΉ„κµ

> Paint : 39.1ms -> μƒλµ <br/>
> Layout : 26.3ms -> μƒλµ <br/>
> Pre Paint : 89.2ms -> 8.7ms <br/>
> Layerize : 40.0ms -> 0.9ms <br/><br/>
> transform μ†μ„±μ€ Layout, Paint κ³Όμ •μ„ μƒλµν•κ³  CommitμΌλ΅ λ„μ–΄κ°€λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

<br />
<br />
---

## π’΅ λ§λ¬΄λ¦¬

rightμ™€ transform μ†μ„±μ„ ν†µν•΄ Reflowμ™€ Composition-Only κ³Όμ •μ„ λΉ„κµν•  μ μμ—κ³ ,

Composition-Only κ³Όμ •μ€ λ©”μΈ μ¤λ λ“ μ—°μ‚°μ„ λΉ λ¥΄κ² μ²λ¦¬ν•λ” κ²ƒμ„ μ§μ ‘ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.

60fpsλ” 1μ΄μ— 60μ¥μ ν”„λ μ„μ΄ κ·Έλ ¤μ§€κ³  1μ¥μ ν”„λ μ„μ΄ 16.6ms μ‹κ°„ μ•μ— κ·Έλ ¤μ Έμ•Όν•©λ‹λ‹¤.

μ΄λ¥Ό λ‹¬μ„±ν•μ§€ λ»ν•λ©΄ λ²„λ²…κ±°λ¦¬λ” ν„μƒ(jank)μ΄ λ°μƒν•©λ‹λ‹¤.

λΉ„λ΅ μ‚¬μ΄λ“λ°”μ—μ„λ” μ²΄κ°ν•  λ§νΌμ κ°μ„ μ€ μ—†μ—μ§€λ§ λ¬΄κ±°μ΄ μ—°μ‚°μ΄ λ”ν•΄μ§„ λ“λκ·Έ λλ” μ¤ν¬λ΅¤ μ΄λ²¤νΈλ¥Ό μ›μΈμΌλ΅ λ²„λ²…κ±°λ¦Όμ΄ λ°μƒν•λ” κ³³μ— μ μ©ν•λ‹¤λ©΄ ν¨κ³Όμ μΈ ν•΄κ²°μ±…μ΄ λ  μ μμ„ κ²ƒ κ°™μµλ‹λ‹¤.

## π”¦ References

- [Performance features reference](https://developer.chrome.com/docs/devtools/performance/reference?hl=ko)
- [Compositor-Only Properties](https://web.dev/articles/stick-to-compositor-only-properties-and-manage-layer-count?hl=en)
- [[10λ¶„ ν…μ½”ν†΅] μ½¤ν”Όμ CSSλ¥Ό ν†µν• λΈλΌμ°μ € λ λ”λ§ μµμ ν™”](https://www.youtube.com/watch?v=1YAWshEGU6g)
- [[10λ¶„ ν…μ½”ν†΅] β•οΈ μ²΄ν”„μ α„‡α…³α„…α…΅α„‹α…®α„α…¥ λ λ”λ§](https://www.youtube.com/watch?v=sJ14cWjrNis)
- [Reflow & Repaint](https://www.explainthis.io/en/swe/repaint-and-reflow)
- [Minimizing browser reflow](https://developers.google.com/speed/docs/insights/browser-reflow)
